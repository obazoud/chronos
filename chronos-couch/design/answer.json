{
   "_id": "_design/answer",
   "updates": {
       "accumulate": "function (doc, req) { 
          question= parseInt(req.query.question);
           reponse= parseInt(req.query.reponse);
           correct= parseInt(req.query.correct);
         
           if (reponse == correct) {
                valeur=parseInt(req.query.valeur);
                bonus=parseInt(req.query.bonus);
                inc = valeur + bonus;
                doc.score = doc.score + inc;
           } 
          doc.reponses.push(reponse);
          doc.questions.push(question);
          return [doc, \"I incremented \" + doc._id + \" by \" + 1];
        }"
    }
}